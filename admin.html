<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.gstatic.com/firebasejs/ https://apis.google.com; style-src 'self' 'unsafe-inline'; img-src 'self' https: data:; font-src 'self'; connect-src 'self' https://*.googleapis.com https://*.firebaseio.com https://api.github.com https://www.gstatic.com wss://*.googleapis.com wss://*.firebaseio.com; frame-src https://chansi-ddd7e.firebaseapp.com; object-src 'none'">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="Permissions-Policy" content="accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=()">
  <title>Admin Portal</title>
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>

  <!-- ================================================================
       HEADER & AUTHENTICATION
       ================================================================ -->
  <header>
    <h1>ğŸ” Admin Portal</h1>
    <p>Manage blog posts, moderate forum comments, and control site content.</p>
  </header>

  <nav>
    <button type="button" id="back-btn" aria-label="Back to forum">â† Back to Forum</button>
    <button type="button" id="logout" aria-label="Sign out" hidden>Sign Out</button>
  </nav>

  <!-- ================================================================
       LOGIN SECTION
       ================================================================ -->
  <div id="login-section">
    <article>
      <h2>Authentication Required</h2>
      <p>You must sign in with GitHub to access the admin panel.</p>
      <button id="login" type="button">ğŸ”‘ Sign In with GitHub</button>
    </article>
  </div>

  <!-- ================================================================
       ADMIN DASHBOARD (Hidden until authenticated)
       ================================================================ -->
  <div id="editor" hidden>

    <!-- ====================================================================
         SECTION 1: BLOG EDITOR & PUBLISHER
         ==================================================================== -->
    <section id="blog-admin">
      <header>
        <h2>ğŸ“ Blog Post Editor</h2>
        <p>Create and publish new blog posts to the site.</p>
      </header>

      <form id="post-form">
        <fieldset>
          <legend>ğŸ“‹ Post Details</legend>

          <div>
            <label for="title">Post Title *</label>
            <input 
              id="title" 
              type="text"
              placeholder="Enter the title of your blog post"
              required
              aria-required="true">
            <small>Required. Keep it concise and descriptive.</small>
          </div>

          <div>
            <label for="content">Post Content *</label>
            <textarea 
              id="content" 
              rows="12"
              placeholder="Write your blog post content hereâ€¦"
              required
              aria-required="true">
            </textarea>
            <small>Required. This is the main body of your post.</small>
          </div>

          <div>
            <label for="hashtags">Hashtags (Optional)</label>
            <input 
              id="hashtags" 
              type="text"
              placeholder="e.g., #life #tech #thoughts #photography">
            <small>Space-separated tags starting with #. Helps with post discovery.</small>
          </div>

          <div>
            <button id="publish" type="button">âœ“ Publish Post</button>
            <span id="publish-status" hidden></span>
          </div>
        </fieldset>
      </form>
    </section>

    <!-- ====================================================================
         SECTION 2: FORUM MODERATION
         ==================================================================== -->
    <section id="forum-admin">
      <header>
        <h2>ğŸ›¡ï¸ Forum Moderation</h2>
        <p>Review and moderate forum comments and replies. Delete inappropriate content.</p>
      </header>

      <div>
        <label for="forum-pagination">Pagination Controls:</label>
        <div id="forum-pagination">
          <button id="prev" type="button">â† Previous Page</button>
          <button id="next" type="button">Next Page â†’</button>
        </div>
        <small>Showing up to 20 comments per page.</small>
      </div>

      <div id="forum-comments">
        <p>Loading forum commentsâ€¦</p>
      </div>
    </section>

    <!-- ====================================================================
         SECTION 3: BLOG COMMENTS
         ==================================================================== -->
    <section id="blog-comments-admin">
      <header>
        <h2>ğŸ’¬ Blog Comments</h2>
      </header>

      <div>
        <label for="blog-comments-pagination">Pagination Controls:</label>
        <div id="blog-comments-pagination">
          <button id="blog-comments-prev" type="button">â† Previous Page</button>
          <button id="blog-comments-next" type="button">Next Page â†’</button>
        </div>
      </div>

      <div id="blog-comments-list">
        <p>Loading blog commentsâ€¦</p>
      </div>
    </section>

    <!-- ====================================================================
         SECTION 4: REPORTED COMMENTS
         ==================================================================== -->
    <section id="reported-comments-admin">
      <header>
        <h2>ğŸš© Reported Comments</h2>
        <p>View and manage flagged comments from users.</p>
      </header>

      <div id="reported-comments-list">
        <p>Loading reported commentsâ€¦</p>
      </div>
    </section>

  </div>
  <!-- Core admin logic (auth + publish) -->
  <script type="module" src="js/admin.js"></script>

  <!-- Blog comments moderation -->
  <script type="module" src="js/admin_blog_comments.js"></script>

  <!-- Forum moderation (grouped comments + replies + images) -->
  <script type="module" src="js/admin_forum.js"></script>

  <!-- Reported comments -->
  <script type="module" src="js/admin_reported_comments.js"></script>

  <!-- Common navigation -->
  <script src="js/common.js"></script>

</body>
</html>