/* ================================
   TOP-LEVEL COMMENTS
   ================================ */

.forum-comment {
  border: 5px solid var(--pesto); /* gold border for high comments */
  background: linear-gradient(135deg, rgba(var(--azalea-r),1), rgba(var(--deep-blush-r),1));
  padding: 8px;
  margin-bottom: 10px;
  /* readable text on light-ish comment background */
  color: var(--masala);
  max-width: 100%;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* ================================
   REPLIES
   ================================ */

.forum-reply {
  border: 5px inset var(--cadillac);
  background: linear-gradient(180deg, rgba(var(--deep-blush-r),1), rgba(var(--brilliant-rose-r),1));
  padding: 8px;
  margin-top: 8px;
  margin-left: 20px;
  color: var(--masala);
  width: calc(100% - 20px);
  max-width: 100%;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
}

.forum-reply-nested {
  border: 5px inset var(--gray); /* silver/grey border for nested replies */
  /* keep nested replies in the pink family to avoid mixing golds and pinks */
  background: linear-gradient(90deg, rgba(var(--hibiscus-r),1), rgba(var(--deep-blush-r),1));
  margin-left: 40px;
  /* nested replies can be darker; use light text for contrast */
  color: #ffffff;
  width: calc(100% - 40px);
  max-width: 100%;
  overflow: hidden;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* meta and links */
.forum-meta {
  color: var(--masala);
  font-size: 0.95rem;
}

/* Ensure author/name/date metadata is highly readable */
.forum-meta .author,
.forum-meta .name,
.forum-author,
.post-author,
.post-date,
.forum-date,
.forum-meta time {
  color: var(--masala);
  font-weight: 600;
}

.forum-body a {
  color: var(--hibiscus);
}

/* ================================
   MEDIA — SAFE DEFAULTS
   ================================ */

.forum-media.image {
  max-width: min(250px, 100%);
  height: auto;
  display: block;
}

.forum-media-group {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: flex-start;
  margin-top: 6px;
  max-width: 100%;
  overflow: hidden;
}

.forum-media-item {
  display: flex;
  flex: 1 1 auto;
  max-width: 100%;
  min-width: 0;
}

/* video / iframe embeds */
.forum-media iframe,
.forum-media video,
.forum-media audio,
iframe.forum-media,
video.forum-media,
audio.forum-media {
  width: min(560px, 100%);
  max-width: 100%;
  height: auto;
  display: block;
}

/* YouTube / video aspect ratio */
.forum-media.video iframe,
iframe.forum-media.video {
  width: min(560px, 100%);
  max-width: 100%;
  aspect-ratio: 16 / 9;
}

/* Spotify / SoundCloud */
.forum-media.audio iframe,
iframe.forum-media.audio {
  width: min(560px, 100%);
  max-width: 100%;
  height: 152px;
}

.forum-media.audio {
  max-width: 100%;
}

.forum-media.audio,
.forum-media.video,
.forum-media.image {
  overflow: hidden;
}

/* ================================
   LINK FALLBACK (NOT BLUE)
   ================================ */

.forum-body a {
  color: inherit;
  text-decoration: underline;
}

.forum-body a:hover {
  text-decoration: none;
}

/* ================================
   ASCII-ART FRIENDLY POSTS
   ================================ */

.forum-body {
  font-family: "MS PGothic", "MS Pゴシック";
  white-space: pre-wrap;
  tab-size: 4;
  overflow-wrap: anywhere;
  word-break: break-word;
}

#post-form textarea,
.reply-form textarea {
  font-family: "Mona", sans-serif;
  white-space: pre;
  tab-size: 4;
}

#forum-search input,
#post-form input,
#post-form textarea,
.reply-form textarea {
  max-width: 100%;
  width: min(100%, 32rem);
  box-sizing: border-box;
}

.forum-meta {
  font-family: "Mona";
}

/* ================================
   REPLY CONTROLS (ALWAYS BELOW)
   ================================ */

.forum-reply-button {
  display: inline-block;
  margin-top: 6px;
}

.reply-form {
  display: block;
  clear: both;
  margin-top: 6px;
}

/* dark-mode forum styles removed */
