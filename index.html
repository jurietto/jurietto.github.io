<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Index</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Meta for social -->
  <meta property="og:title" content="Juri's Stuff" />
  <meta property="og:description" content="Juri's personal space on the web" />
  <meta property="og:image" content="https://file.garden/ZhTgSjrp5nAroRKq/216b471b796e732d46861f32575a7c59.gif" />
  <meta property="og:url" content="https://jurietto.github.io/" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Juri's Stuff" />
  <meta name="twitter:description" content="Juri's personal space on the web" />
  <meta name="twitter:image" content="https://file.garden/ZhTgSjrp5nAroRKq/216b471b796e732d46861f32575a7c59.gif" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Redirect to frame.html if not in iframe -->
  <script>
    if (window.top === window.self) {
      window.location.href = "frame.html";
    }
  </script>
</head>
<body>

  <!-- Fallback music player if someone opens this file directly -->
  <div id="player-container"></div>

  <div class="main-content">
    <h1>Index</h1>

    <div id="last-updated">
      <p>Last Updated: Loading...</p>
    </div>

    <div id="my-status" style="cursor: pointer;" onclick="window.parent.frames.contentframe.location.href='updates/statuslog.html'">
      <div class="status-text">
        <span id="myStatus">Loading status...</span>
      </div>
    </div>

    <p class="page-text">
      I'm Juri (or Juliet) and I'm from California. I like: working with audio, reading old VN's,
      gothic lolita punk j-fashion/subculture. My favorite character is Charmmy Kitty.
      Mental health is something that's important to me.
      As a neurodivergent person, life can sometimes feel a little unusual,
      but I try to be patient with myself, and I'm working on getting better.
      In my free time, I like to code, go on hikes, DJ, bake, and journal.
      I'm a little bit of a quiet person, but don't hesitate to send a message for friendly conversation.
      I've had all sorts of jobs over the years – in food service, in hospitality, fixing computers.
    </p>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th class="detailsColumn">Type</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />Discord – sotokomori</td>
          <td>Text</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="https://www3.cbox.ws/box/?boxid=3544658&boxtag=e80zwm" target="_blank">Chatzone</a>
          </td>
          <td>URL</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="https://x.com/sotokomorii" target="_blank">Twitter</a>
          </td>
          <td>URL</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="https://www.youtube.com/@juriscafe" target="_blank">YouTube</a>
          </td>
          <td>URL</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="https://vndb.org/u274298" target="_blank">Visual Novel Database</a>
          </td>
          <td>URL</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="updates/updates.html" target="contentframe">Updates</a>
          </td>
          <td>HTML</td>
        </tr>
        <tr>
          <td class="file-cell"><img src="media/crown.png" class="icon" />
            <a href="menhera" target="contentframe">Menhera</a>
          </td>
          <td>HTML</td>
        </tr>
      </tbody>
    </table>

    <div id="footer"></div>
  </div>

  <!-- Scripts -->
  <script>
    // Only load the player fallback if user somehow opens this page outside the frame
    if (window.top === window.self) {
      fetch('player.html')
        .then(res => res.text())
        .then(html => {
          document.getElementById('player-container').innerHTML = html;
          const script = document.createElement('script');
          script.src = 'player.js';
          script.defer = true;
          document.body.appendChild(script);
        });
    }

    // Load footer
    fetch('footer.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('footer').innerHTML = data;
      });

    // Load latest status
    fetch('updates/statuslog.json')
      .then(res => res.json())
      .then(data => {
        const latest = data[0];
        if (latest) {
          document.getElementById('myStatus').textContent = latest.text;
        }
      })
      .catch(err => {
        console.error('Failed to load status:', err);
        document.getElementById('myStatus').textContent = 'Status unavailable.';
      });
  </script>

  <script src="script.js"></script>
</body>
</html>
