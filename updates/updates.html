<div class="main-content"> 
  <h1>Updates</h1>

  <div id="last-updated">
    <p>Last Updated: Loading...</p>
  </div>

  <p class="page-text">
    This section is where I keep track of personal updates and site changes.
    <strong>Life Updates</strong> is where I write about personal stuff—things that've been going on.
    <strong>Site Log</strong> is for tracking technical edits and general maintenance.
    And <strong>Status Log</strong> is just a timeline of notes—micro-logs.
  </p>

  <p>
    <a href="/pages/home.html">
      <img src="/media/c8.gif" alt="Back icon" class="icon" />
      [parent directory]
    </a>
  </p>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th class="detailsColumn">Type</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="file-cell">
          <img src="/media/crown.png" class="icon" />
          <a href="/updates/lifeupdates.html">Life Updates</a>
        </td>
        <td class="detailsColumn">HTML</td>
      </tr>
      <tr>
        <td class="file-cell">
          <img src="/media/crown.png" class="icon" />
          <a href="/updates/sitelog.html">Site Log</a>
        </td>
        <td class="detailsColumn">HTML</td>
      </tr>
      <tr>
        <td class="file-cell">
          <img src="/media/crown.png" class="icon" />
          <a href="/updates/statuslog.html">Status Log</a>
        </td>
        <td class="detailsColumn">HTML</td>
      </tr>
    </tbody>
  </table>
</div>

<script>
  fetch('/meta/updates_meta.json')
    .then(res => res.json())
    .then(data => {
      const date = new Date(data.lastUpdated);
      const formatted = date.toLocaleString(undefined, {
        dateStyle: 'long',
        timeStyle: 'short'
      });
      document.querySelector('#last-updated p').textContent = `Last Updated: ${formatted}`;
    })
    .catch(err => {
      console.error('Failed to load last-updated metadata:', err);
      document.querySelector('#last-updated p').textContent = 'Last Updated: N/A';
    });
</script>
