<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Updates</title>
  <link rel="stylesheet" href="/style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Redirect to frame.html if not in iframe -->
  <script>
    if (window.top === window.self) {
      window.location.href = "/frame.html";
    }
  </script>
</head>

<body class="content-frame">

  <!-- Injected player (fallback only) -->
  <div id="player-container"></div>

  <div class="main-content"> 
    <h1>Updates</h1>

    <div id="last-updated">
      <p>Last Updated: Loading...</p>
    </div>

    <p class="page-text">
      This section is where I keep track of personal updates and site changes.
      <strong>Life Updates</strong> is where I write about personal stuff—things that's been going on.
      <strong>Site Log</strong> is for tracking technical edits and general maintenance.
      And <strong>Status Log</strong> which is just a timeline of notes—micro-logs...
    </p>

    <p>
      <a href="/" target="contentframe">
        <img src="/media/c6.gif" alt="parent directory icon" class="icon" />
        [parent directory]
      </a>
    </p>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th class="detailsColumn">Type</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="file-cell">
            <img src="/media/crown.png" class="icon" />
            <a href="/updates/lifeupdates.html" target="contentframe">Life Updates</a>
          </td>
          <td class="detailsColumn">HTML</td>
        </tr>
        <tr>
          <td class="file-cell">
            <img src="/media/crown.png" class="icon" />
            <a href="/updates/sitelog.html" target="contentframe">Site Log</a>
          </td>
          <td class="detailsColumn">HTML</td>
        </tr>
        <tr>
          <td class="file-cell">
            <img src="/media/crown.png" class="icon" />
            <a href="/updates/statuslog.html" target="contentframe">Status Log</a>
          </td>
          <td class="detailsColumn">HTML</td>
        </tr>
      </tbody>
    </table>

    <!-- Footer -->
    <div id="footer"></div>
  </div>

  <!-- Scripts -->
  <script src="/script.js"></script>

  <script>
    // Load footer content
    fetch('/footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer').innerHTML = data;
      });

    // Load fallback music player if needed
    if (window.top === window.self) {
      fetch('/player.html')
        .then(res => res.text())
        .then(html => {
          document.getElementById('player-container').innerHTML = html;
          const script = document.createElement('script');
          script.src = '/player.js';
          script.defer = true;
          document.body.appendChild(script);
        });
    }
  </script>
</body>
</html>
